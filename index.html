<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Valentine üíñ</title>

<style>
  :root{
    --bg1:#ff9a9e;
    --bg2:#fad0c4;
    --card:#ffffffee;
    --accent:#ff3b6b;
    --text:#1f1f1f;
  }

  *{box-sizing:border-box;}
  body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    overflow:hidden;
    background: linear-gradient(135deg, var(--bg1), var(--bg2));
  }

  /* Moving glow background */
  .glow{
    position:absolute;
    inset:-40%;
    background:
      radial-gradient(circle at 30% 30%, #ffffff70, transparent 55%),
      radial-gradient(circle at 70% 70%, #ffffff55, transparent 55%),
      radial-gradient(circle at 50% 80%, #fff3, transparent 60%);
    filter: blur(28px);
    animation: drift 9s ease-in-out infinite alternate;
    pointer-events:none;
  }
  @keyframes drift{
    from{ transform: translate(-2%, -2%) scale(1.05); }
    to{ transform: translate(2%, 2%) scale(1.12); }
  }

  .card{
    position:relative;
    width:min(92vw, 440px);
    background:var(--card);
    border:1px solid #ffffff90;
    border-radius:26px;
    padding:22px;
    text-align:center;
    box-shadow: 0 16px 45px rgba(0,0,0,.22);
    backdrop-filter: blur(10px);
    transform: translateY(0);
    transition: transform .45s ease, box-shadow .45s ease;
  }

  .btn{
    width:100%;
    border:none;
    border-radius:16px;
    padding:14px 16px;
    font-size:16px;
    font-weight:900;
    color:#fff;
    background: linear-gradient(135deg, var(--accent), #ff7aa2);
    box-shadow: 0 14px 28px rgba(255,59,107,.35);
    cursor:pointer;
    -webkit-tap-highlight-color: transparent;
    transition: transform .08s ease, filter .2s ease;
  }
  .btn:active{ transform: scale(.98); }
  .btn:hover{ filter: brightness(1.03); }

  .msg{
    margin-top:16px;
    padding:18px 14px;
    border-radius:18px;
    background:#fff;
    border:1px solid rgba(0,0,0,.08);
    box-shadow: 0 12px 28px rgba(0,0,0,.10);
    display:none;
  }
  .msg.show{
    display:block;
    animation: popIn .55s cubic-bezier(.2,.9,.2,1) both;
  }
  @keyframes popIn{
    0%{ transform: translateY(14px) scale(.98); opacity:0; }
    100%{ transform: translateY(0) scale(1); opacity:1; }
  }

  /* Typewriter look */
  .typed{
    font-size:18px;
    line-height:1.55;
    color:var(--text);
    min-height: 60px;
  }
  .sig{
    margin-top:10px;
    font-weight:900;
  }

  /* Floating hearts */
  .h{
    position:absolute;
    bottom:-10vh;
    left:var(--x);
    font-size:var(--s);
    opacity:var(--o);
    filter: drop-shadow(0 8px 12px rgba(0,0,0,.18));
    animation: floatUp var(--d) linear infinite;
    pointer-events:none;
  }
  @keyframes floatUp{
    to{ transform: translateY(-120vh) rotate(360deg); }
  }

  /* Confetti */
  .confetti{
    position:absolute;
    inset:0;
    overflow:hidden;
    pointer-events:none;
  }
  .c{
    position:absolute;
    left:50%;
    top:25%;
    width:10px;
    height:14px;
    border-radius:3px;
    background: hsl(var(--h), 90%, 60%);
    transform: translate(-50%, -50%) rotate(var(--r));
    animation: pop var(--t) ease-out forwards;
    opacity:.95;
  }
  @keyframes pop{
    0%{ transform: translate(-50%,-50%) translate(0,0) rotate(var(--r)); opacity:1; }
    100%{ transform: translate(-50%,-50%) translate(var(--dx), var(--dy)) rotate(calc(var(--r) + 240deg)); opacity:0; }
  }

  /* small sparkle stars */
  .spark{
    position:absolute;
    width:6px;height:6px;
    border-radius:50%;
    background:#fff;
    opacity:.0;
    animation: twinkle 2.8s ease-in-out infinite;
    pointer-events:none;
    filter: blur(.2px);
  }
  @keyframes twinkle{
    0%,100%{ opacity:0; transform: scale(.7); }
    50%{ opacity:.85; transform: scale(1.25); }
  }
</style>
</head>

<body>
  <div class="glow"></div>

  <!-- Sparks -->
  <div id="sparks"></div>

  <main class="card" id="card">
    <button class="btn" id="btn">üíñ –î–∞—Ä</button>

    <section class="msg" id="msg">
      <div class="typed" id="typed"></div>
      <div class="sig" id="sig"></div>
    </section>

    <div class="confetti" id="confetti"></div>
  </main>

<script>
  // ===== Floating hearts (always) =====
  const heartEmojis = ["üíó","üíñ","üíò","‚ù§Ô∏è","üíû","üíù"];
  function spawnHeart(){
    const h = document.createElement("div");
    h.className = "h";
    h.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
    h.style.setProperty("--x", (Math.random()*100) + "vw");
    h.style.setProperty("--s", (16 + Math.random()*18) + "px");
    h.style.setProperty("--d", (5 + Math.random()*6) + "s");
    h.style.setProperty("--o", (0.35 + Math.random()*0.45));
    document.body.appendChild(h);
    setTimeout(()=>h.remove(), 12000);
  }
  setInterval(spawnHeart, 420);
  for(let i=0;i<8;i++) setTimeout(spawnHeart, i*250);

  // ===== Sparkles =====
  const sparks = document.getElementById("sparks");
  for(let i=0;i<14;i++){
    const s = document.createElement("div");
    s.className = "spark";
    s.style.left = (Math.random()*100) + "vw";
    s.style.top  = (Math.random()*100) + "vh";
    s.style.animationDelay = (Math.random()*2.5) + "s";
    sparks.appendChild(s);
  }

  // ===== Confetti burst =====
  const confettiWrap = document.getElementById("confetti");
  function burstConfetti(){
    const count = 44;
    for(let i=0;i<count;i++){
      const c = document.createElement("div");
      c.className = "c";
      const hue = Math.floor(Math.random()*360);
      const r = Math.floor(Math.random()*360) + "deg";
      const t = (700 + Math.random()*800) + "ms";
      const dx = (Math.random()*2 - 1) * (160 + Math.random()*140);
      const dy = (Math.random()*2 - 1) * (180 + Math.random()*150);

      c.style.setProperty("--h", hue);
      c.style.setProperty("--r", r);
      c.style.setProperty("--t", t);
      c.style.setProperty("--dx", dx + "px");
      c.style.setProperty("--dy", dy + "px");

      confettiWrap.appendChild(c);
      setTimeout(()=>c.remove(), 1700);
    }
  }

  // ===== Typewriter =====
  const typedEl = document.getElementById("typed");
  const sigEl = document.getElementById("sig");
  const msgBox = document.getElementById("msg");
  const card = document.getElementById("card");
  const btn = document.getElementById("btn");

  const line1 = "–¢.–ë–∞–∞—Å–∞–Ω–∂–∞–≤ —Ç–∞–Ω—å–¥ –≥—ç–≥—ç—ç–Ω —Ö–∞–π—Ä—ã–Ω –≤–∞–ª–µ–Ω—Ç–∏–Ω—ã –º—ç–Ω–¥ —Ö“Ø—Ä–≥—ç–µ. üíù";
  sigEl.innerHTML = "<br><b>–•“Ø–Ω–¥—ç—Ç–≥—ç—Å—ç–Ω: –¢–∞–Ω—ã —Ö–∞–π—Ä—Ç –∑–∞–ª—É—É<br>–ì.–ú”©–Ω—Ö-–û–¥.</b>";

  function typeText(text, el, speed=26){
    return new Promise(resolve=>{
      el.textContent = "";
      let i = 0;
      const t = setInterval(()=>{
        el.textContent += text[i];
        i++;
        if(i >= text.length){
          clearInterval(t);
          resolve();
        }
      }, speed);
    });
  }

  let opened = false;
  btn.addEventListener("click", async ()=>{
    if(!opened){
      opened = true;
      msgBox.classList.add("show");
      card.style.transform = "translateY(-4px) scale(1.01)";
      burstConfetti();
      if(navigator.vibrate) navigator.vibrate(50);

      await typeText(line1, typedEl, 24);
      sigEl.innerHTML = "<br><b>" + line2 + "</b>";
      btn.textContent = "–î–∞—Ö–∏–Ω üíû";
    }else{
      // replay confetti only
      burstConfetti();
      if(navigator.vibrate) navigator.vibrate(30);
    }
  });
</script>
</body>
</html>